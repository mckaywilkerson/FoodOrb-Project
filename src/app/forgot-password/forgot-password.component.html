<app-initial-header></app-initial-header>

<br><br><br><br>

<form class="col-md-6 offset-md-3" [formGroup]="forgotPasswordForm" (ngSubmit)="handleForgotPasswordSubmit()">
    <div class="form-group row justify-content-center">
        <h3>Forgot Password</h3>
        <br><br><br>
    </div>
    <div class="form-group row">
        <label for="staticName" class="col-sm-4 col-form-label">Email</label>
        <div class="col-sm-8">
            <input type="email" class="form-control" placeholder="Enter Email" formControlName="email"
                [ngClass]="{ 'is-invalid': forgotPasswordForm.get('email')?.touched && forgotPasswordForm.get('email')?.invalid }" />
            <div class="invalid-feedback">
                <div *ngIf="forgotPasswordForm.get('email')?.errors?.required">Email is required</div>
                <div *ngIf="forgotPasswordForm.get('email')?.errors?.email">Insert a valid email</div>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <label for="staticName" class="col-sm-4 col-form-label">New Password</label>
        <div class="col-sm-8">
            <input type="password" class="form-control" placeholder="Enter New Password" formControlName="newPassword"
                [ngClass]="{ 'is-invalid': forgotPasswordForm.get('newPassword')?.touched && forgotPasswordForm.get('newPassword')?.invalid }" />
            <div class="invalid-feedback">
                <div>Password is required</div>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <label for="staticName" class="col-sm-4 col-form-label">Confirm Password</label>
        <div class="col-sm-8">
            <input type="password" class="form-control" placeholder="Confirm New Password" formControlName="confirmNewPassword"
                [ngClass]="{ 'is-invalid': forgotPasswordForm.get('confirmNewPassword')?.touched && forgotPasswordForm.get('confirmNewPassword')?.invalid }" />
            <div class="invalid-feedback">
                <div *ngIf="forgotPasswordForm.get('confirmNewPassword')?.errors?.required">Password is required</div>
                <div *ngIf="forgotPasswordForm.get('confirmNewPassword').errors?.mustMatch">Passwords must match</div>
            </div>
        </div>
    </div>

    <div *ngIf="isSaved" class="alert alert-success">
        Password Successfully Changed
    </div>

    <div class="form-group row">
        <div class="col-sm-10 offset-sm-4">
          <button type="submit" class="btn btn-primary" [disabled]="!forgotPasswordForm.valid">Change Password</button>
        </div>
    </div>
</form>